<section class="container body-container">
  <h1>Recent Expenses</h1>
  <div class="select-container form-group">
    <label for="">Filter a category</label>
    <div class="form-input">
      <select (change)="onCategoryChanged($event)" name="category" id="category">
        <option value="all">All</option>
        @for(category of categories(); track category.id) {
        <option [value]="category.name">{{ category.name }}</option>
        }
      </select>
    </div>
  </div>
  @if(expenses().length === 0) {
  <div class="container body-container no-expenses">
    @if(selectedCategory() === 'all') { You have not added any expenses yet. Add one to see it here
    }@else { You have no expenses in this category yet. Add one to see it here }
  </div>
  } @else {
  <ul class="expense-list">
    @for(expense of expenses(); track expense.id) {
    <li class="expense">
      <div class="left-container">
        <div class="icon-container">
          <ng-icon [name]="expense.category.iconName" class="icon" />
        </div>
        <div class="title-container">
          <h2 class="title">{{ expense.name }}</h2>
          <p class="category">{{ expense.category.name }}</p>
        </div>
      </div>
      <div class="right-container">
        <div>
          <h4 class="amount">
            {{ expense.amount.toFixed(2) | currency : 'INR' : 'symbol' : '1.2-2' }}
          </h4>
          <p class="date">{{ expense.date | date : 'dd/MM/yyyy' }}</p>
        </div>
        <button (click)="onDeleteExpense(expense.id)" class="delete-icon-container">
          <ng-icon name="ionTrashBinOutline" class="icon" />
        </button>
      </div>
    </li>
    }
  </ul>
  }
</section>
