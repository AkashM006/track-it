<app-header [expenses]="expenses()" />

<!-- Expense addition form -->
@if(isFormOpen()) {
<app-form-modal
  [selectedExpense]="selectedExpense()"
  (close)="onCloseExpenseForm()"
  (addExpense)="onAddExpense($event)"
  (updateExpense)="onUpdateExpense($event)"
/>
}

<!-- Expenses chart -->
@if(isChartsOpen()) {
<app-charts [expenses]="expenses()" />
}

<!-- Using status -->
@switch (expensesQuery.state().status) {
<!--  -->
@case ('loading') {
<!-- Todo: Handle better -->
<div>Loading...</div>
} @case ('success') {
<app-expense-list
  (selectExpense)="onSelectExpense($event)"
  [expenses]="expenses()"
  (toggleCharts)="onToggleCharts()"
  (deleteExpense)="onDeleteExpense($event)"
/>
} @case ('error') {
<!-- Todo: Handle better -->
<div>Error...</div>
} }

<button class="add-btn" (click)="onNewExpense()">
  <ng-icon name="ionAddOutline" class="icon" />
</button>
